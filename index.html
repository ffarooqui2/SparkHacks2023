<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">

    <title>Weather app</title>
    <style>
        /* Define a custom font family */
        @font-face {
            font-family: 'CoolFont';
            src: url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        }

        /* Apply the custom font family to the body */
        body {
            font-family: 'CoolFont', sans-serif;
            background-color: rgba(250, 50, 0, 0.679);
        }

        /* Apply bold font weight to the text */
        h1 {
            font-weight: bold;
        }

        /* Add some cool text shadow to the text */
        h1 {
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }

        #hourly-weather {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 20px;
        }

        .hourly-weather-entry {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 10px;
            padding: 8px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .hourly-weather-entry .degree {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .hourly-weather-entry .weather-img {
            margin-bottom: 10px;
        }

        .hourly-weather-entry .weather-img img {
            width: 50px;
            height: 50px;
        }

        .hourly-weather-entry .real-feel,
        .hourly-weather-entry .humidity {
            font-size: 14px;
            color: #999;
        }

        .hourly-weather-entry .real-feel::before,
        .hourly-weather-entry .humidity::before {
            content: "\2022";
            margin-right: 5px;
            font-size: 8px;
            color: #999;
        }
    </style>
</head>



<body>
    <h1>How is your day</h1>

    <div id="hourly-weather"></div>

    <script>
        // function displayHourlyWeather() {
        // Get the parent div
        var parentDiv = document.querySelector("#hourly-weather");


        let lat = 41.8719; // your latitude
        let lon = -87.6479; // your longitude
        let key = "2525271a48aee4b83064aa077f7f0e0f";
        while (1) {
            let url =
                `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=${"daily"}&appid=${key}`;
            // day,hour, picture temp realfeel, humidity,
            // hourly then object .feels_like, humidity, .weather.description 
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    // handle the response data
                    console.log(data);
                    let v = data;

                    for (var i = 0; i < 10; i++) {

                        let hourlyData = v.hourly[i];


                        // Create a child div for this hourly weather entry
                        let childDiv = document.createElement("div");
                        childDiv.className = "hourly-weather-entry";

                        // Add the weather data to the child div
                        let degreeDiv = document.createElement("div");
                        degreeDiv.className = "degree";
                        // (K − 273.15) × 9/5 + 32 = °F
                        let data = (parseInt(hourlyData.temp) - 273.15) * (9 / 5) + 32;
                        degreeDiv.innerHTML = parseInt(data);
                        childDiv.appendChild(degreeDiv);

                        let weatherImgDiv = document.createElement("div");
                        weatherImgDiv.className = "weather-img";
                        if (data < 30) {
                            weatherImgDiv.innerHTML = `<img src='./snow.png'>`;
                        } else if (data >= 30 && data <= 60) {
                            weatherImgDiv.innerHTML = `<img src='./cloudy.png'>`;
                        } else {
                            weatherImgDiv.innerHTML = `<img src='./sun.png'>`;
                        }
                        childDiv.appendChild(weatherImgDiv);

                        let realFeelDiv = document.createElement("div");
                        realFeelDiv.className = "real-feel";
                        let d = (parseInt(hourlyData.feels_like) - 273.15) * (9 / 5) + 32
                        realFeelDiv.innerHTML = "Real feel: " + parseInt(d);
                        childDiv.appendChild(realFeelDiv);

                        let humidityDiv = document.createElement("div");
                        humidityDiv.className = "humidity";
                        humidityDiv.innerHTML = "Humidity: " + hourlyData.humidity;
                        childDiv.appendChild(humidityDiv);

                        // Add the child div to the parent div
                        document.querySelector("#hourly-weather").appendChild(childDiv);
                    }
                    //for(int i=)
                })
                .catch(error => {
                    // handle any errors
                    console.log(error);
                })
        }
    </script>



</body>



</html>